<html>
    <head>
        <style>
            .center {
                right: 50%;
                bottom: 50%;
                transform: translate(50%,50%);
                position: absolute;
            }
            
            label {
                width: 140px;
            }

            button {
                width: 140px;
            }

            .input-box {
                display: flex;
                align-items: center;
                width: 138px;
                background: #fff;
                border: 1px solid #a0a0a0;
                border-radius: 4px;
                overflow: hidden;
                font-family: sans-serif;
                margin-top: 20px;
                margin-bottom: 5px;
            }

            .input-box .prefix {
                font-weight: 300;
                font-size: 14px;
                color: #999;
                width: 20px;
                padding-left: 5px;
            }

            .input-box input {
                flex-grow: 1;
                font-size: 14px;
                background: #fff;
                border: none;
                outline: none;
            }

            .input-box:focus-within {
                border-color: #777;
            }

            #farbanzeige {
                border: solid 1px black;
                background-color: black;
                margin-bottom: 20px;
                height: 100px;
            }
        </style>
    </head>
    <body>
        <form class="center" action="/" method="post">
            <label for="farbe">Farbe (Hex-Wert)</label>
            <div id="farbanzeige"></div>
            <div class="input-box">
                <span class="prefix">#</span>
                <input type="text" name="farbe" id="farbe" pattern="^(?:[0-9a-fA-F]{3}){1,2}$" title="Die Eingabe muss eine gÃ¼ltige Webfarbe im RGB Raum in Hex-Notation sein." placeholder="000000" value="{{ farbe }}">
            </div>

            <button type="submit">anzeigen</button>
        </form>
    <script>
        document.getElementsByTagName('form')[0].addEventListener('submit', (event) => {
            event.preventDefault()

            const farbanzeige = document.querySelector('#farbanzeige')
            const farbe = document.querySelector('#farbe')
            farbanzeige.style.backgroundColor = '#' + farbe.value

            let data = {farbe: farbe.value};

            fetch("/farbauswahl", {
              method: "POST",
              headers: {'Content-Type': 'application/json'},
              body: JSON.stringify(data)
            }).then(res => {
              console.log("Request complete! response:", res);
            })
        })
    </script>
    </body>
</html>







